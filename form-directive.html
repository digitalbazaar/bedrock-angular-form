<div br-lazy-compile="options" br-lazy-compile-id="br-form">
  <!--
  <pre>FORM OPTIONS: {{options|json}}</pre>
  <pre>FORM GROUPS: {{groups|json}}</pre>
  <pre>FORM MODEL: {{model|json}}</pre>
  -->
  <form ng-if="options.editable && !options.embedded"
    class="form-horizontal">
    <div ng-repeat="group in groups" ng-switch="group.type">
      <br-form-group ng-switch-when="PropertyGroup"
        br-model="model" br-group="group" br-options="{{options}}"></br-form-group>
      <div ng-switch-default>
        <p class="text-warning">Unknown group.</p>
        <pre>{{group|json}}</pre>
      </div>
    </div>
  </form>
  <div ng-if="options.editable && options.embedded">
    <div ng-repeat="group in groups" ng-switch="group.type">
      <br-form-group ng-switch-when="PropertyGroup"
        br-model="model" br-group="group" br-options="{{options}}"></br-form-group>
      <div ng-switch-default>
        <p class="text-warning">Unknown group.</p>
        <pre>{{group|json}}</pre>
      </div>
    </div>
  </div>
  <div ng-if="!options.editable" ng-repeat="group in groups" ng-switch="group.type">
    <br-form-group ng-switch-when="PropertyGroup"
      br-model="model" br-group="group" br-options="{{options}}"></br-form-group>
    <div ng-switch-default>
      <p class="text-warning">Unknown group.</p>
      <pre>{{group|json}}</pre>
    </div>
  </div>
</div>
